<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Be My Valentine</title>

<style>
  *{ box-sizing:border-box; }
  :root{ --pink:#ff9fb0; }

  body{
    margin:0;
    min-height:100vh;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    background: var(--pink);
    overflow:hidden;
  }

  .card{
    width: min(1100px, 96vw);
    min-height: 560px;
    margin: 40px auto;
    background: rgba(255,255,255,0.93);
    border-radius: 34px;
    box-shadow: 0 28px 75px rgba(0,0,0,.18);
    padding: 60px 60px 90px;
    text-align:center;
    position: relative;
  }

  h1{
    margin:0 0 12px;
    font-size: clamp(38px, 5.5vw, 78px);
    letter-spacing: -0.02em;
  }

  .sub{
    font-size: 24px;
    opacity: .9;
    margin: 0;
  }

  .btnRow{
    position: absolute;
    left: 50%;
    top: 44%;
    transform: translate(-50%, -50%);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 26px;
    width: fit-content;
    z-index: 10;
  }

  button{
    padding: 18px 42px;
    border-radius: 999px;
    border:none;
    cursor:pointer;
    font-size: 20px;
    font-weight: 900;
    box-shadow: 0 18px 34px rgba(0,0,0,.16);
    white-space: nowrap;
    user-select:none;
  }

  #yes{
    background: linear-gradient(90deg, #ff2d55, #ff7a9a);
    color:#fff;
    position: relative;
    z-index: 60;
  }

  #no{
    background:#fff;
    border: 2px solid rgba(0,0,0,.15);
    position: absolute;
    z-index: 55;
    left: 0; top: 0;
    transition:
      left 0.55s cubic-bezier(.16,1,.3,1),
      top  0.55s cubic-bezier(.16,1,.3,1);
  }

  #noGhost{
    background:#fff;
    border: 2px solid rgba(0,0,0,.15);
    box-shadow: 0 18px 34px rgba(0,0,0,.16);
    opacity: 0;
    pointer-events: none;
  }

  .result{
    position: fixed;
    inset: 0;
    background: var(--pink);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 7000;
    padding: 30px;
  }
  .result.show{ display:flex; }

  .resultCard{
    width: min(900px, 96vw);
    background: rgba(255,255,255,0.95);
    border-radius: 30px;
    box-shadow: 0 28px 75px rgba(0,0,0,.22);
    padding: 40px;
    text-align:center;
  }

  .resultCard h2{
    margin:0 0 14px;
    font-size: clamp(26px, 4vw, 44px);
  }

  .resultCard p{
    margin:0 0 22px;
    font-size: 20px;
    opacity:.9;
  }

  .resultImg{
    width: min(420px, 80vw);
    height: min(420px, 80vw);
    margin: 0 auto;
    border-radius: 24px;
    overflow: hidden;
    box-shadow: 0 18px 55px rgba(0,0,0,.22);
    background:#fff;
  }

  .resultImg img{
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
  }
</style>
</head>

<body>

  <div id="card" class="card">
    <h1>Will you be my Valentineüòõ?</h1>
    <div class="sub">there‚Äôs only one right answer</div>

    <div class="btnRow" id="btnRow">
      <button id="yes">YesüôÇ‚Äç‚ÜïÔ∏è</button>
      <button id="noGhost">Noüòü</button>
    </div>

    <button id="no">Noüòü</button>
  </div>

  <div id="result" class="result">
    <div class="resultCard">
      <h2>Ayeeeeeeeeee</h2>
      <p>you got good tasteüòã</p>
      <div class="resultImg">
        <img src="disapproval.jpg" alt="yes pic">
      </div>
    </div>
  </div>

<!-- confetti library -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

<script>
  const card = document.getElementById("card");
  const yes = document.getElementById("yes");
  const no  = document.getElementById("no");
  const noGhost = document.getElementById("noGhost");
  const result = document.getElementById("result");

  function rect(el){ return el.getBoundingClientRect(); }
  function clamp(v, min, max){ return Math.max(min, Math.min(max, v)); }

  function initNoPosition(){
    const cardR = rect(card);
    const ghostR = rect(noGhost);
    no.style.left = (ghostR.left - cardR.left) + "px";
    no.style.top  = (ghostR.top  - cardR.top)  + "px";
  }

  function runAway(mouseClientX, mouseClientY){
    const cardR = rect(card);
    const noR = rect(no);

    const mx = mouseClientX - cardR.left;
    const my = mouseClientY - cardR.top;

    const nx = parseFloat(no.style.left) || 0;
    const ny = parseFloat(no.style.top)  || 0;

    const cx = nx + noR.width/2;
    const cy = ny + noR.height/2;

    let dx = cx - mx;
    let dy = cy - my;

    const dist = Math.hypot(dx, dy) || 1;
    dx /= dist; dy /= dist;

    let newX = nx + dx * 180;
    let newY = ny + dy * 180;

    const margin = 22;
    newX = clamp(newX, margin, cardR.width  - noR.width  - margin);
    newY = clamp(newY, margin, cardR.height - noR.height - margin);

    no.style.left = newX + "px";
    no.style.top  = newY + "px";
  }

  card.addEventListener("mousemove", (e) => {
    const noR = rect(no);
    const cx = noR.left + noR.width/2;
    const cy = noR.top  + noR.height/2;
    const dist = Math.hypot(cx - e.clientX, cy - e.clientY);

    if (dist < 170) runAway(e.clientX, e.clientY);
  });

  no.addEventListener("click", (e) => {
    e.preventDefault();
    const msg = document.createElement("div");
    msg.textContent = "smh wrong answer vedanti";
    msg.style.position = "absolute";
    msg.style.left = (parseFloat(no.style.left) + 10) + "px";
    msg.style.top  = (parseFloat(no.style.top) + 70) + "px";
    msg.style.fontWeight = "800";
    msg.style.opacity = "0.9";
    card.appendChild(msg);
    setTimeout(() => msg.remove(), 1400);
  });

  /* ‚úÖ Confetti burst RIGHT when YES is clicked */
  function confettiBurst(){
    confetti({
      particleCount: 260,
      spread: 85,
      startVelocity: 60,
      scalar: 1.05,
      origin: { y: 0.75 }
    });
    confetti({
      particleCount: 140,
      spread: 120,
      startVelocity: 45,
      scalar: 0.95,
      origin: { x: 0.2, y: 0.7 }
    });
    confetti({
      particleCount: 140,
      spread: 120,
      startVelocity: 45,
      scalar: 0.95,
      origin: { x: 0.8, y: 0.7 }
    });
  }

  /* ‚úÖ Hearts ONLY while result screen is showing (5 seconds) */
  function heartsOnResult5s(){
    const end = Date.now() + 5000;

    // emoji heart shapes
    const h1 = confetti.shapeFromText({ text: "‚ù§Ô∏è", scalar: 2.1 });
    const h2 = confetti.shapeFromText({ text: "üíñ", scalar: 2.3 });
    const h3 = confetti.shapeFromText({ text: "üíï", scalar: 2.2 });

    (function frame(){
      // left stream
      confetti({
        particleCount: 6,
        spread: 70,
        startVelocity: 38,
        ticks: 120,
        scalar: 1.1,
        shapes: [h1,h2,h3],
        origin: { x: 0.12, y: 0.75 }
      });

      // right stream
      confetti({
        particleCount: 6,
        spread: 70,
        startVelocity: 38,
        ticks: 120,
        scalar: 1.1,
        shapes: [h1,h2,h3],
        origin: { x: 0.88, y: 0.75 }
      });

      // random heart pops
      confetti({
        particleCount: 10,
        spread: 360,
        startVelocity: 28,
        ticks: 140,
        scalar: 1.05,
        shapes: [h1,h2,h3],
        origin: { x: Math.random(), y: Math.random() * 0.45 + 0.1 }
      });

      if (Date.now() < end) requestAnimationFrame(frame);
    })();
  }

  yes.addEventListener("click", ()=>{
    // confetti instantly on click
    confettiBurst();

    // show result quickly, then hearts while it‚Äôs visible
    setTimeout(() => {
      card.style.display="none";
      result.classList.add("show");
      heartsOnResult5s();
    }, 350);
  });

  window.addEventListener("load", initNoPosition);
  window.addEventListener("resize", initNoPosition);
</script>

</body>
</html>
